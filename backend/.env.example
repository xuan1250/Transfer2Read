# Backend Environment Variables (FastAPI)
# Copy this file to .env and fill in your actual values

# ====================
# Supabase Configuration
# ====================
# Get these from: https://supabase.com/dashboard → Your Project → Settings → API
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGc...your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-from-supabase-settings
# ⚠️ CRITICAL: Service Role Key grants ADMIN access and bypasses RLS
# NEVER expose this key in frontend code or commit actual values to Git!

# ====================
# AI API Keys
# ====================
# OpenAI: Get from https://platform.openai.com/api-keys
# Anthropic: Get from https://console.anthropic.com/settings/keys
OPENAI_API_KEY=sk-your-openai-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# ====================
# Redis & Celery
# ====================
# For Docker Compose: Use service name from docker-compose.yml
REDIS_URL=redis://redis:6379
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
# For local development (non-Docker): Use localhost
# REDIS_URL=redis://localhost:6379
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ====================
# Application Config
# ====================
ENVIRONMENT=development

# ====================
# Stirling-PDF Service
# ====================
# For Docker Compose: Use service name from docker-compose.yml
STIRLING_PDF_URL=http://stirling-pdf:8080
# For local development (non-Docker): Use localhost
# STIRLING_PDF_URL=http://localhost:8080
# API Key: Set to empty string if security is disabled (DOCKER_ENABLE_SECURITY=false)
STIRLING_PDF_API_KEY=

# ====================
# Production Deployment Notes
# ====================
# When deploying with Docker Compose:
# - Use service names (redis, stirling-pdf) for internal Docker network communication
# - Expose only necessary ports to host machine (3000 for frontend, 8000 for backend API)
# - Store secrets in Docker secrets or environment files (never commit .env to Git)
# - Use different credentials for dev/staging/production
# - Enable 2FA on all cloud platform accounts
# - Consider using Docker Compose profiles for different environments
#
# Production Supabase Project (separate from development)
# Create a separate Supabase project for production at https://supabase.com
# NEVER use development credentials in production!
# SUPABASE_URL=https://your-production-project.supabase.co
# SUPABASE_SERVICE_KEY=eyJhbGc...your-production-service-role-key
#
# Production AI API Keys
# Rotate these quarterly for security
# OPENAI_API_KEY=sk-your-production-openai-key
# ANTHROPIC_API_KEY=sk-ant-your-production-anthropic-key

